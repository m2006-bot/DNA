<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¬Ø¯ÙˆÙ„ÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ - ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ (ØªØ­ÙƒÙ… ÙŠØ¯ÙˆÙŠ ÙƒØ§Ù…Ù„)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* --------------------------------- */
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ø®Ø·ÙˆØ· */
        /* --------------------------------- */
        :root {
            --primary-color: #3b82f6; /* Ø£Ø²Ø±Ù‚ Ø¹ØµØ±ÙŠ */
            --background-color: #f8fafc; /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© */
            --card-bg: #ffffff;
            --rest-color: #e0f2fe;        
            --study-color: #dcfce7;       
            --review-color: #f0f9ff;      
            --break-color: #fef9c3;
            --highlight-color: #ef4444; /* Ø£Ø­Ù…Ø± Ù„Ù„ØªØ¸Ù„ÙŠÙ„ */
            --completed-bg: #e2e8f0; /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø¥Ù†Ø¬Ø§Ø² */
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--background-color);
            margin: 0;
            padding: 20px 15px;
            color: #1f2937;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --------------------------------- */
        /* Ø§Ù„ØªØ±ÙˆÙŠØ³Ø© ÙˆØ´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø«Ø§Ø¨Øª */
        /* --------------------------------- */
        .header-progress {
            width: 100%;
            max-width: 1200px;
            margin-bottom: 30px;
            padding: 0 10px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .progress-bar-container {
            height: 10px;
            background-color: #e5e7eb;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            transition: width 0.5s ease-in-out, background-color 0.3s;
            border-radius: 5px;
        }

        /* --------------------------------- */
        /* ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¬Ø¯ÙˆÙ„ (Grid Layout) */
        /* --------------------------------- */
        .schedule-grid-wrapper {
            width: 100%;
            max-width: 1200px;
        }

        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px; 
            padding: 0;
            list-style: none;
        }
        
        /* --------------------------------- */
        /* ØªØµÙ…ÙŠÙ… Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· (Activity Card) */
        /* --------------------------------- */
        .activity-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            padding: 20px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            border-right: 5px solid var(--primary-color);
        }

        .activity-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f3f4f6;
        }

        .card-time {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-color);
            line-height: 1;
        }

        .card-duration {
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 600;
        }
        
        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .card-type {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 15px;
        }

        .card-footer {
            margin-top: auto; 
            padding-top: 15px;
            border-top: 1px dashed #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* --------------------------------- */
        /* Ø§Ù„ØªØ¸Ù„ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ ÙˆØ§Ù„ÙˆÙ‚Øª */
        /* --------------------------------- */

        /* Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
        .rest { border-right-color: #38bdf8; background-color: var(--rest-color); }
        .study-focus { border-right-color: #10b981; background-color: var(--study-color); }
        .study-review { border-right-color: #6366f1; background-color: var(--review-color); color: #3730a3; } 
        .small-break { border-right-color: #f59e0b; background-color: var(--break-color); }
        .major-break { border-right-color: #f97316; background-color: #fee2e2; }
        .school-hours, .sleep { border-right-color: #9ca3af; background-color: #f3f4f6; color: #4b5563;} 


        /* ØªØ¸Ù„ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ */
        .current-time {
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.4) !important;
            transform: scale(1.02) !important;
            border: 2px solid var(--highlight-color);
        }

        /* ØªØ¸Ù„ÙŠÙ„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² */
        .completed-card {
            opacity: 0.75;
            background-color: var(--completed-bg) !important; 
            box-shadow: none;
        }
        .completed-card .card-time {
            color: #6b7280; 
        }
        
        /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² */
        .achievement-checkbox input[type="checkbox"] {
            transform: scale(1.3);
            cursor: pointer;
            accent-color: #10b981; 
        }

        /* --------------------------------- */
        /* Media Queries (Ù„Ù„Ù‡ÙˆØ§ØªÙ) */
        /* --------------------------------- */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .schedule-grid-wrapper {
                overflow-x: auto;
                padding-bottom: 15px; 
            }
            
            .schedule-grid {
                display: flex;
                flex-wrap: nowrap;
                gap: 15px;
                padding-right: 15px; 
            }
            
            .activity-card {
                flex-shrink: 0;
                width: 260px; 
            }
            
            .card-time {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>

    <header class="header-progress">
        <h1>ğŸ—“ï¸ Ø¬Ø¯ÙˆÙ„ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø§Ù„Ù…ÙØ±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</h1>
        <p style="color: #6b7280; font-size: 0.95rem;">(Ø§Ù„Ø£Ø­Ø¯ - Ø§Ù„Ø®Ù…ÙŠØ³: **Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø§Ù„ÙƒØ§Ù…Ù„** / Ø§Ù„Ø¬Ù…Ø¹Ø© - Ø§Ù„Ø³Ø¨Øª: **Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø­Ø±Ø©**)</p>
        
        <div class="progress-label">
            <span id="progress-status">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ...</span>
            <span id="progress-text">0%</span>
        </div>
        <div class="progress-bar-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
    </header>

    <div class="schedule-grid-wrapper">
        <div id="schedule-display" class="schedule-grid">
            </div>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ù…Ù† Ù†Ø¸Ø§Ù… 24 Ø³Ø§Ø¹Ø© Ø¥Ù„Ù‰ 12 Ø³Ø§Ø¹Ø© Ù…Ø¹ (Øµ/Ù…)
        function formatTime12h(timeStr) {
            const [h, m] = timeStr.split(':').map(Number);
            const period = h >= 12 && h < 24 ? 'Ù…' : 'Øµ';
            const hour12 = h % 12 || 12; 
            return `${hour12}:${String(m).padStart(2, '0')} ${period}`;
        }
        
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ù†Ø¸Ø§Ù… 24 Ø³Ø§Ø¹Ø© (Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©)
        const SCHEDULE_DATA_24H = {
            early: [ // Ø§Ù„Ø£Ø­Ø¯, Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†, Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡
                { start: "6:00", end: "7:00", duration: "1 Ø³Ø§Ø¹Ø©", activity: "Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ØŒ ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±ØŒ ÙØ·ÙˆØ±", type: "rest", title: "ØªÙ‡ÙŠØ¦Ø© Ø°Ù‡Ù†ÙŠØ©" },
                { start: "7:00", end: "12:00", duration: "5 Ø³Ø§Ø¹Ø§Øª", activity: "**Ø¯ÙˆØ§Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©**", type: "school-hours", title: "ØªØ±ÙƒÙŠØ² ÙÙŠ Ø§Ù„Ø´Ø±Ø­" },
                { start: "12:00", end: "13:00", duration: "1 Ø³Ø§Ø¹Ø©", activity: "ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø± ÙˆØ§Ù„ØºØ¯Ø§Ø¡", type: "rest", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø£Ø³Ø§Ø³ÙŠØ©" },
                { start: "13:00", end: "14:00", duration: "1 Ø³Ø§Ø¹Ø©", activity: "**Ù†ÙˆÙ… Ø§Ù„Ù‚ÙŠÙ„ÙˆÙ„Ø©**", type: "sleep", title: "ØªØ¬Ø¯ÙŠØ¯ Ø·Ø§Ù‚Ø© Ø§Ù„Ø¯Ù…Ø§Øº" },
                { start: "14:00", end: "14:35", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 1 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "14:35", end: "14:40", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 1", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "14:40", end: "15:00", duration: "20 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 2 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨) - Ù‚ØµÙŠØ±Ø©", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "15:00", end: "15:15", duration: "15 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØµÙ„Ø§Ø© Ø§Ù„Ø¹ØµØ± + Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©", type: "rest", title: "" },
                { start: "15:15", end: "15:50", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 3 (Ø­Ù„ ÙˆØ§Ø¬Ø¨Ø§Øª Ù…ØªØ£Ø®Ø±Ø©)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "15:50", end: "15:55", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 3", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "15:55", end: "16:30", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 4 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "16:30", end: "16:40", duration: "10 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "**Ù…ÙƒØ§ÙØ£Ø© ÙƒØ¨Ø±Ù‰** (10 Ø¯Ù‚Ø§Ø¦Ù‚)", type: "major-break", title: "Ù…ÙƒØ§ÙØ£Ø© Ø¨Ø¹Ø¯ 4 Ø¬Ù„Ø³Ø§Øª!" },
                { start: "16:40", end: "17:15", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 5 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "17:15", end: "17:30", duration: "15 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØµÙ„Ø§Ø© Ø§Ù„Ù…ØºØ±Ø¨", type: "rest", title: "" },
                { start: "17:30", end: "18:05", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 6 (Ø­ÙØ¸ÙŠØ§Øª ÙˆÙ…Ø±Ø§Ø¬Ø¹Ø© Ù‚Ø¯ÙŠÙ…Ø©)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­ÙØ¸" },
                { start: "18:05", end: "18:10", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 6", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "18:10", end: "18:30", duration: "20 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 7 (Ø­ÙØ¸ÙŠØ§Øª ÙˆÙ…Ø±Ø§Ø¬Ø¹Ø© Ù‚Ø¯ÙŠÙ…Ø©) - Ù‚ØµÙŠØ±Ø©", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­ÙØ¸" },
                { start: "18:30", end: "19:30", duration: "1 Ø³Ø§Ø¹Ø©", activity: "Ø§Ù„Ø¹Ø´Ø§Ø¡ ÙˆØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡", type: "rest", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø·ÙˆÙŠÙ„Ø©" },
                { start: "19:30", end: "20:05", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 8 (Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "20:05", end: "20:10", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 8", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "20:10", end: "20:45", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 9 (Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "20:45", end: "20:50", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 9", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "20:50", end: "21:25", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 10 (Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "21:25", end: "21:30", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 10", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "21:30", end: "22:05", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 11 (Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "22:05", end: "22:15", duration: "10 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "**Ù…ÙƒØ§ÙØ£Ø© ÙƒØ¨Ø±Ù‰** (10 Ø¯Ù‚Ø§Ø¦Ù‚)", type: "major-break", title: "Ù…ÙƒØ§ÙØ£Ø© Ø¨Ø¹Ø¯ 4 Ø¬Ù„Ø³Ø§Øª!" },
                { start: "22:15", end: "22:30", duration: "15 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 12 (Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª)", type: "study-focus", title: "Ø¥Ù†Ù‡Ø§Ø¡ Ù…Ø§ ØªØ¨Ù‚Ù‰" },
                { start: "22:30", end: "23:00", duration: "30 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªÙ†Ø¸ÙŠÙ… ÙˆØªØ±ØªÙŠØ¨ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØºØ¯", type: "rest", title: "ØªØ­Ø¶ÙŠØ± Ø°Ù‡Ù†ÙŠ" },
                { start: "23:00", end: "6:00", duration: "7 Ø³Ø§Ø¹Ø§Øª", activity: "**Ø§Ù„Ù†ÙˆÙ…**", type: "sleep", title: "Ø§Ù„ØªØ²Ø§Ù… ØªØ§Ù…." }
            ],
            late: [ // Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡, Ø§Ù„Ø®Ù…ÙŠØ³
                { start: "6:00", end: "7:00", duration: "1 Ø³Ø§Ø¹Ø©", activity: "Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ØŒ ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±ØŒ ÙØ·ÙˆØ±", type: "rest", title: "ØªÙ‡ÙŠØ¦Ø©" },
                { start: "7:00", end: "7:35", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 1 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "7:35", end: "7:40", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 1", type: "small-break", title: "Ø§Ø³ØªØ±Ø§Ø­Ø© Ø³Ø±ÙŠØ¹Ø©" },
                { start: "7:40", end: "8:15", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 2 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "8:15", end: "8:20", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 2", type: "small-break", title: "" },
                { start: "8:20", end: "8:55", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 3 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "8:55", end: "9:00", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 3", type: "small-break", title: "" },
                { start: "9:00", end: "9:35", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 4 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "9:35", end: "9:45", duration: "10 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "**Ù…ÙƒØ§ÙØ£Ø© ÙƒØ¨Ø±Ù‰** (10 Ø¯Ù‚Ø§Ø¦Ù‚)", type: "major-break", title: "Ù…ÙƒØ§ÙØ£Ø© Ø¨Ø¹Ø¯ 4 Ø¬Ù„Ø³Ø§Øª!" },
                { start: "9:45", end: "10:20", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 5 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "10:20", end: "10:25", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 5", type: "small-break", title: "" },
                { start: "10:25", end: "11:00", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 6 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£ØµØ¹Ø¨)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "11:00", end: "17:00", duration: "6 Ø³Ø§Ø¹Ø§Øª", activity: "**Ø¯ÙˆØ§Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©**", type: "school-hours", title: "ÙŠØ´Ù…Ù„ ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø± ÙˆØ§Ù„ØºØ¯Ø§Ø¡." },
                { start: "17:00", end: "17:15", duration: "15 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØµÙ„Ø§Ø© Ø§Ù„Ù…ØºØ±Ø¨", type: "rest", title: "" },
                { start: "17:15", end: "17:50", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 7 (Ù…Ø§Ø¯Ø© Ø³Ø±ÙŠØ¹Ø©/Ù…Ø±Ø§Ø¬Ø¹Ø©)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "17:50", end: "17:55", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 7", type: "small-break", title: "" },
                { start: "17:55", end: "18:30", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 8 (Ù…Ø§Ø¯Ø© Ø³Ø±ÙŠØ¹Ø©/Ù…Ø±Ø§Ø¬Ø¹Ø©)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "18:30", end: "19:30", duration: "1 Ø³Ø§Ø¹Ø©", activity: "Ø§Ù„Ø¹Ø´Ø§Ø¡ ÙˆØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡", type: "rest", title: "" },
                { start: "19:30", end: "20:05", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 9 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "20:05", end: "20:10", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 9", type: "small-break", title: "" },
                { start: "20:10", end: "20:45", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 10 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "20:45", end: "20:50", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 10", type: "small-break", title: "" },
                { start: "20:50", end: "21:25", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 11 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©)", type: "study-focus", title: "Ù…Ø°Ø§ÙƒØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©" },
                { start: "21:25", end: "21:30", duration: "5 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "Ø§Ø³ØªØ±Ø§Ø­Ø© 11", type: "small-break", title: "" },
                { start: "21:30", end: "22:05", duration: "35 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "Ù…Ø±Ø§Ø¬Ø¹Ø© 12 (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©)", type: "study-review", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ­Ù„" },
                { start: "22:05", end: "22:15", duration: "10 Ø¯Ù‚Ø§Ø¦Ù‚", activity: "**Ù…ÙƒØ§ÙØ£Ø© ÙƒØ¨Ø±Ù‰** (10 Ø¯Ù‚Ø§Ø¦Ù‚)", type: "major-break", title: "Ù…ÙƒØ§ÙØ£Ø© Ø¨Ø¹Ø¯ 4 Ø¬Ù„Ø³Ø§Øª!" },
                { start: "22:15", end: "22:30", duration: "15 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªØ±ÙƒÙŠØ² 13 (Ø¥Ù†Ù‡Ø§Ø¡ Ù…Ø§ ØªØ¨Ù‚Ù‰)", type: "study-focus", title: "Ø¥Ù†Ù‡Ø§Ø¡ Ù…Ø§ ØªØ¨Ù‚Ù‰" },
                { start: "22:30", end: "23:00", duration: "30 Ø¯Ù‚ÙŠÙ‚Ø©", activity: "ØªÙ†Ø¸ÙŠÙ… ÙˆØªØ±ØªÙŠØ¨ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØºØ¯", type: "rest", title: "ØªØ­Ø¶ÙŠØ± Ø°Ù‡Ù†ÙŠ" },
                { start: "23:00", end: "6:00", duration: "7 Ø³Ø§Ø¹Ø§Øª", activity: "**Ø§Ù„Ù†ÙˆÙ…**", type: "sleep", title: "" }
            ]
        };

        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª (Ø³:Ø¯) Ø¥Ù„Ù‰ Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ù† Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙŠÙˆÙ… (0:00)
        function timeToMinutes(timeStr) {
            const [h, m] = timeStr.split(':').map(Number);
            return h * 60 + m;
        }

        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ù„Ø£Ø­Ø¯ = 0, Ø§Ù„Ø³Ø¨Øª = 6)
        function getCurrentScheduleData() {
            const day = new Date().getDay();
            
            if (day >= 0 && day <= 2) {
                return { schedule: SCHEDULE_DATA_24H.early, key: 'early' };
            } 
            else if (day === 3 || day === 4) {
                return { schedule: SCHEDULE_DATA_24H.late, key: 'late' };
            }
            else {
                return null;
            }
        }

        // 1. Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙÙŠ HTML (ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ)
        function renderScheduleCards() {
            const scheduleInfo = getCurrentScheduleData();
            const gridContainer = document.getElementById('schedule-display');
            gridContainer.innerHTML = '';
            
            if (!scheduleInfo) {
                gridContainer.innerHTML = '<p style="text-align: center; color: #6b7280; font-size: 1.2rem; margin-top: 50px;">ğŸ‰ Ø¹Ø·Ù„Ø© Ù†Ù‡Ø§ÙŠØ© Ø£Ø³Ø¨ÙˆØ¹ Ø³Ø¹ÙŠØ¯Ø©! ÙˆÙ‚Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø­Ø±Ø©.</p>';
                document.getElementById('progress-status').textContent = 'Ø¹Ø·Ù„Ø© ÙˆÙ…Ø±Ø§Ø¬Ø¹Ø© Ø­Ø±Ø©.';
                document.getElementById('progress-text').textContent = '100%';
                document.getElementById('progress-bar').style.width = '100%';
                document.getElementById('progress-bar').style.backgroundColor = '#10b981'; 
                return;
            }

            const schedule = scheduleInfo.schedule;
            const keyPrefix = scheduleInfo.key;

            schedule.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = `activity-card ${item.type}`;
                card.setAttribute('data-start', item.start);
                card.setAttribute('data-end', item.end);
                card.setAttribute('data-key', `${keyPrefix}-row-${index}`);
                card.setAttribute('data-day', keyPrefix);
                card.setAttribute('data-type', item.type); 
                
                const localStorageKey = `${keyPrefix}-row-${index}`;
                // ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ Ù„ÙƒÙ„ Ø¨Ø·Ø§Ù‚Ø©
                const isChecked = localStorage.getItem(localStorageKey) === 'true';

                if (isChecked) {
                    card.classList.add('completed-card');
                }
                
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆÙ‚Øª 12 Ø³Ø§Ø¹Ø©
                const displayTime = `${formatTime12h(item.start)} - ${formatTime12h(item.end)}`;

                // ØªØµÙ…ÙŠÙ… Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² (ÙŠØ¸Ù‡Ø± Ø§Ù„Ø¢Ù† ÙÙŠ ÙƒÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª)
                const footerContent = `
                    <label class="achievement-checkbox" style="display: flex; align-items: center; gap: 8px; font-weight: 600;">
                        ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
                        <input type="checkbox" data-key="${localStorageKey}" data-day="${keyPrefix}" ${isChecked ? 'checked' : ''}>
                    </label>
                `;


                card.innerHTML = `
                    <div class="card-header">
                        <span class="card-time">${displayTime}</span>
                        <span class="card-duration">${item.duration}</span>
                    </div>
                    <div class="card-content">
                        <div class="card-title">${item.activity}</div>
                        <div class="card-type">${item.title}</div>
                    </div>
                    <div class="card-footer">
                        ${footerContent}
                    </div>
                `;
                
                const checkbox = card.querySelector('input[type="checkbox"]');
                if (checkbox) {
                    checkbox.addEventListener('change', saveAchievement);
                }

                gridContainer.appendChild(card);
            });
            
            updateProgressBar(keyPrefix);
        }

        // 2. ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… (Progress Bar) - ÙŠØ¹ØªÙ…Ø¯ Ø§Ù„Ø¢Ù† Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ù†Ø¬Ø²Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹
        function updateProgressBar(day) {
            const cards = document.querySelectorAll(`.activity-card[data-day="${day}"]`);
            
            // Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ù†Ø¬Ø²Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
            const allCards = Array.from(cards);
            const totalTasks = allCards.length;
            let completedTasks = 0;

            allCards.forEach(card => {
                const key = card.getAttribute('data-key');
                if (localStorage.getItem(key) === 'true') {
                    completedTasks++;
                    // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ¸Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†Ø¬Ø²Ø©
                    if (!card.classList.contains('completed-card')) {
                         card.classList.add('completed-card');
                    }
                } else {
                    card.classList.remove('completed-card');
                }
            });

            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const progressStatus = document.getElementById('progress-status');

            // Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ù†Ø¬Ø²Ø© Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
            const percentage = totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0;
            const percentageFixed = Math.min(percentage, 100).toFixed(0); 

            progressBar.style.width = percentageFixed + '%';
            progressText.textContent = `${percentageFixed}%`;
            
            // Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ØªØ­ÙÙŠØ²ÙŠØ©
            let statusText = '';
            let barColor = '';
            
            const p = Number(percentageFixed);

            if (p === 100) {
                statusText = 'ğŸŒŸ **Ù…ÙƒØªÙ…Ù„ ğŸ’¯!** Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø§Ø³ØªØ­Ù‚ÙŠØª Ø§Ù„Ø±Ø§Ø­Ø© Ø¨Ø¬Ø¯Ø§Ø±Ø©!';
                barColor = '#10b981'; 
            } else if (p >= 75) {
                statusText = 'ğŸš€ **Ø£Ø¯Ø§Ø¡ Ø®Ø§Ø±Ù‚!** Ø£Ù†Øª ØªÙ‚ØªØ±Ø¨ Ù…Ù† Ø§Ù„Ù‚Ù…Ø©ØŒ Ù„Ø§ ØªØªÙˆÙ‚Ù Ø§Ù„Ø¢Ù†.';
                barColor = '#14b8a6'; 
            } else if (p >= 50) {
                statusText = 'ğŸ’ª **Ù†ØµÙ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù†ØªÙ‡Ù‰!** Ø§Ù„Ø¹Ø²ÙŠÙ…Ø© ØªØ´ØªØ¹Ù„ ÙÙŠÙƒØŒ ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ‚Ø¯Ù….';
                barColor = '#3b82f6'; 
            } else if (p >= 25) {
                statusText = 'ğŸ’¡ **Ø¨Ø¯Ø§ÙŠØ© Ù…ÙˆÙÙ‚Ø©!** ÙƒÙ„ Ø®Ø·ÙˆØ© Ù…Ø­Ø³ÙˆØ¨Ø©ØŒ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹.';
                barColor = '#f59e0b'; 
            } else {
                statusText = 'ğŸƒ **Ù„Ù†Ù†Ø·Ù„Ù‚ Ø§Ù„Ø¢Ù†!** Ø£Ù…Ø§Ù…Ùƒ ÙŠÙˆÙ… Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§ØªØŒ Ø§Ø¨Ø¯Ø£ Ø¨Ù‚ÙˆØ©.';
                barColor = '#ef4444'; 
            }

            progressBar.style.backgroundColor = barColor;
            progressStatus.innerHTML = statusText;
        }

        // 3. Ø­ÙØ¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² ( unchanged )
        function saveAchievement(event) {
            const checkbox = event.target;
            const key = checkbox.getAttribute('data-key');
            const day = checkbox.getAttribute('data-day');
            
            localStorage.setItem(key, checkbox.checked);

            const card = checkbox.closest('.activity-card');
            if (checkbox.checked) {
                card.classList.add('completed-card');
            } else {
                card.classList.remove('completed-card');
            }
            
            updateProgressBar(day); 
        }

        // 4. ØªØ¸Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ÙˆØ§ÙÙ‚ Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ (Ù„Ù„ØªÙ…Ø±ÙŠØ±)
        function updateTimeMarker() {
            const scheduleInfo = getCurrentScheduleData();
            if (!scheduleInfo) return;

            const now = new Date();
            let currentTimeInMinutes = timeToMinutes(now.getHours() + ':' + now.getMinutes());
            
            // 1. Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ¸Ù„ÙŠÙ„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
            document.querySelectorAll('.activity-card').forEach(card => {
                card.classList.remove('current-time');
            });

            // 2. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            document.querySelectorAll('.activity-card[data-start]').forEach(card => {
                const startTimeStr = card.getAttribute('data-start');
                const endTimeStr = card.getAttribute('data-end');
                
                let startMinutes = timeToMinutes(startTimeStr);
                let endMinutes = timeToMinutes(endTimeStr);
                let checkTime = currentTimeInMinutes;
                
                // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¹Ø¨ÙˆØ± Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„ (Ù…Ø«Ù„ Ø§Ù„Ù†ÙˆÙ…)
                if (endMinutes <= startMinutes) {
                    if (checkTime < startMinutes) {
                        checkTime += 24 * 60;
                        endMinutes += 24 * 60;
                    } 
                }
                
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¯Ø§Ø®Ù„ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù†Ø´Ø§Ø·
                if (checkTime >= startMinutes && checkTime < endMinutes) {
                    card.classList.add('current-time');
                    
                    // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ 
                    setTimeout(() => {
                        card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 100); 
                }
            });
        }

        // 5. ÙˆØ¸ÙŠÙØ© Ù„Ù…Ø³Ø­ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø§ÙŠØ© ÙŠÙˆÙ… Ø¬Ø¯ÙŠØ¯
        function resetScheduleOnNewDay() {
            const today = new Date().toDateString();
            const lastDay = localStorage.getItem('lastScheduleDay');

            if (lastDay !== today) {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠÙˆÙ… Ø¬Ø¯ÙŠØ¯ØŒ Ø§Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    // Ù…Ø³Ø­ Ø£ÙŠ Ù…ÙØªØ§Ø­ ÙŠØªØ¶Ù…Ù† 'row-' ÙˆÙ‡Ùˆ Ø¬Ø²Ø¡ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„
                    if (key && key.includes('row-')) { 
                        localStorage.removeItem(key);
                    }
                }
                localStorage.setItem('lastScheduleDay', today);
                // Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù„ØªÙ†Ø¹ÙƒØ³ Ø§Ù„Ø¥Ø²Ø§Ù„Ø©
                renderScheduleCards(); 
            }
        }
        
        // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            resetScheduleOnNewDay(); 
            renderScheduleCards(); 
            updateTimeMarker();
        });

        // ØªØ­Ø¯ÙŠØ« ØªØ¸Ù„ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙƒÙ„ 60 Ø«Ø§Ù†ÙŠØ©
        setInterval(() => {
            updateProgressBar(getCurrentScheduleData() ? getCurrentScheduleData().key : null);
            updateTimeMarker();
            resetScheduleOnNewDay(); 
        }, 60000); 
    </script>

</body>
</html>
